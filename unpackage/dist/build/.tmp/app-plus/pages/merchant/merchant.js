(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/merchant/merchant"],{"0976":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("a021"),i=a("b607"),s=a("2f62");function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),o.forEach(function(e){c(t,e,a[e])})}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={data:function(){return{imgURl:"",ishow:!0,img1:"",img2:"",img3:"",img4:"",img5:"",img6:"",phone:"",weChatId:"",idCard:"",idFront:"",idBack:"",shopName:"",shopDesc:"",shopAddress:"",shopLogo:"",shopLicence:"",weChatPhoto:"",aliPayPhoto:""}},onLoad:function(){this.imgURl=o.imgURl,this.getShopInfoById(this.shopId)},computed:n({},(0,s.mapState)(["userId","shopId"])),methods:{getShopInfoById:function(t){var e=this;(0,i.getShopInfoById)(t).then(function(t){0==t.data.code&&(e.phone=t.data.data.phone,e.weChatId=t.data.data.weChatId,e.idCard=t.data.data.idCard,e.idFront=t.data.data.idFront,e.idBack=t.data.data.idBack,e.shopName=t.data.data.shopName,e.shopDesc=t.data.data.shopDesc,e.shopAddress=t.data.data.shopAddress,e.shopLogo=t.data.data.shopLogo,e.shopLicence=t.data.data.shopLicence,e.weChatPhoto=t.data.data.weChatPhoto,e.aliPayPhoto=t.data.data.aliPayPhoto,e.img1=t.data.data.idFront,e.img2=t.data.data.idBack,e.img3=t.data.data.shopLogo,e.img4=t.data.data.weChatPhoto,e.img5=t.data.data.aliPayPhoto,e.img6=t.data.data.shopLicence)})},paizhao1:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:o.baseURL+"/file/upload",filePath:a.tempFilePaths[0],name:"file",formData:{user:"test",file:a.tempFilePaths[0]},success:function(a){var o=JSON.parse(a.data);0==o.code&&(console.log(a),e.idFront=o.data,e.img1=o.data,t.showToast({title:"上传成功"}))}})}})},paizhao2:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:o.baseURL+"/file/upload",filePath:a.tempFilePaths[0],name:"file",formData:{user:"test",file:a.tempFilePaths[0]},success:function(a){var o=JSON.parse(a.data);0==o.code&&(console.log(a),e.idBack=o.data,e.img2=o.data,t.showToast({title:"上传成功"}))}})}})},paizhao3:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:o.baseURL+"/file/upload",filePath:a.tempFilePaths[0],name:"file",formData:{user:"test",file:a.tempFilePaths[0]},success:function(a){var o=JSON.parse(a.data);0==o.code&&(console.log(a),e.shopLogo=o.data,e.img3=o.data,t.showToast({title:"上传成功"}))}})}})},paizhao4:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:o.baseURL+"/file/upload",filePath:a.tempFilePaths[0],name:"file",formData:{user:"test",file:a.tempFilePaths[0]},success:function(a){var o=JSON.parse(a.data);0==o.code&&(console.log(a),e.weChatPhoto=o.data,e.img4=o.data,t.showToast({title:"上传成功"}))}})}})},paizhao5:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:o.baseURL+"/file/upload",filePath:a.tempFilePaths[0],name:"file",formData:{user:"test",file:a.tempFilePaths[0]},success:function(a){var o=JSON.parse(a.data);0==o.code&&(console.log(a),e.aliPayPhoto=o.data,e.img5=o.data,t.showToast({title:"上传成功"}))}})}})},paizhao6:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){t.uploadFile({url:o.baseURL+"/file/upload",filePath:a.tempFilePaths[0],name:"file",formData:{user:"test",file:a.tempFilePaths[0]},success:function(a){var o=JSON.parse(a.data);0==o.code&&(console.log(a),e.shopLicence=o.data,e.img6=o.data,t.showToast({title:"上传成功"}))}})}})},ruzhu:function(){if(""!=this.phone)if(""!=this.weChatId)if(""!=this.idCard){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(e.test(this.idCard))if(""!=this.idFront)if(""!=this.idBack)if(""!=this.shopName)if(""!=this.shopDesc)if(""!=this.shopAddress)if(""!=this.shopLogo)if(""!=this.shopLicence)if(""!=this.weChatPhoto)if(""!=this.aliPayPhoto){var a=/^[1][3,4,5,7,8][0-9]{9}$/;if(!a.test(this.phone))return console.log(this.phone),void t.showModal({title:"",content:"请输入正确的手机号码",showCancel:!1});var o={userId:this.userId,phone:this.phone,weChatId:this.weChatId,idCard:this.idCard,idFront:this.idFront,idBack:this.idBack,shopName:this.shopName,shopDesc:this.shopDesc,shopAddress:this.shopAddress,shopLogo:this.shopLogo,shopLicence:this.shopLicence,weChatPhoto:this.weChatPhoto,aliPayPhoto:this.aliPayPhoto};this.ishow=!1,(0,i.addShop)(o).then(function(e){0==e.data.code?(t.showToast({title:"申请成功",icon:"none",duration:1e3}),setTimeout(function(e){t.navigateBack({data:1})},1500)):t.showToast({title:"申请失败",icon:"none",duration:1e3})})}else t.showModal({title:"",content:"请上传支付宝收款二维码",showCancel:!1});else t.showModal({title:"",content:"请上传微信收款二维码",showCancel:!1});else t.showModal({title:"",content:"请上传店铺营业执照",showCancel:!1});else t.showModal({title:"",content:"请上传店铺图片",showCancel:!1});else t.showModal({title:"",content:"请输入店铺地址",showCancel:!1});else t.showModal({title:"",content:"请输入店铺简介",showCancel:!1});else t.showModal({title:"",content:"请输入店铺名称",showCancel:!1});else t.showModal({title:"",content:"请上传身份证反面照",showCancel:!1});else t.showModal({title:"",content:"请上传身份证正面照",showCancel:!1});else t.showModal({title:"",content:"身份证号输入有误",showCancel:!1})}else t.showModal({title:"",content:"请输入身份证号",showCancel:!1});else t.showModal({title:"",content:"请输入微信号",showCancel:!1});else t.showModal({title:"",content:"请输入手机号",showCancel:!1})}}};e.default=l}).call(this,a("6e42")["default"])},"586a":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("view",{staticClass:"item"},[a("text",{staticClass:"title3"},[t._v("手  机  号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",maxlength:"11",placeholder:"请输入注册人电话",eventid:"612c6f32-0"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),a("view",{staticClass:"item"},[a("text",{staticClass:"title3"},[t._v("微  信  号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.weChatId,expression:"weChatId"}],attrs:{type:"text",placeholder:"请输入相关微信号",eventid:"612c6f32-1"},domProps:{value:t.weChatId},on:{input:function(e){e.target.composing||(t.weChatId=e.target.value)}}})]),a("view",{staticClass:"item"},[a("text",{staticClass:"title3"},[t._v("身份证号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.idCard,expression:"idCard"}],attrs:{type:"text",maxlength:"18",placeholder:"请输入身份证号码",eventid:"612c6f32-2"},domProps:{value:t.idCard},on:{input:function(e){e.target.composing||(t.idCard=e.target.value)}}})]),a("view",{staticClass:"zhaopian"},[a("text",[t._v("上传身份证正反照片")]),a("text",{staticStyle:{display:"block",color:"#999999","font-size":"20rpx","margin-top":"20rpx"}},[t._v("(第一张为正面,第二张为反面)")]),a("view",{staticClass:"img"},[t.img1?a("image",{staticClass:"img_1",attrs:{src:t.imgURl+t.img1,mode:"",eventid:"612c6f32-3"},on:{click:function(e){t.paizhao1()}}}):a("view",{staticClass:"img_item",attrs:{eventid:"612c6f32-4"},on:{click:function(e){t.paizhao1()}}},[a("image",{attrs:{src:"../../static/zhengmianzhao_03.png",mode:""}})]),t.img2?a("image",{staticClass:"img_1",attrs:{src:t.imgURl+t.img2,mode:"",eventid:"612c6f32-5"},on:{click:function(e){t.paizhao2()}}}):a("view",{staticClass:"img_item",attrs:{eventid:"612c6f32-6"},on:{click:function(e){t.paizhao2()}}},[a("image",{attrs:{src:"../../static/fanmianzhao_05.png",mode:""}})])])]),a("view",{staticClass:"item"},[a("text",{staticClass:"title3"},[t._v("店铺名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shopName,expression:"shopName"}],attrs:{type:"text",placeholder:"请输入店铺名称",eventid:"612c6f32-7"},domProps:{value:t.shopName},on:{input:function(e){e.target.composing||(t.shopName=e.target.value)}}})]),a("view",{staticClass:"item"},[a("text",{staticClass:"title3"},[t._v("店铺简介")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shopDesc,expression:"shopDesc"}],attrs:{type:"text",placeholder:"请输入店铺描述",eventid:"612c6f32-8"},domProps:{value:t.shopDesc},on:{input:function(e){e.target.composing||(t.shopDesc=e.target.value)}}})]),a("view",{staticClass:"item"},[a("text",{staticClass:"title3"},[t._v("店铺地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shopAddress,expression:"shopAddress"}],attrs:{type:"text",placeholder:"请输入店铺描述",eventid:"612c6f32-9"},domProps:{value:t.shopAddress},on:{input:function(e){e.target.composing||(t.shopAddress=e.target.value)}}})]),a("view",{staticClass:"LG"},[a("text",[t._v("上传店铺图片")]),t.img3?a("image",{staticClass:"lg_img",attrs:{src:t.imgURl+t.img3,mode:"",eventid:"612c6f32-10"},on:{click:t.paizhao3}}):a("text",{staticClass:"lg_img",attrs:{eventid:"612c6f32-11"},on:{click:t.paizhao3}},[t._v("点击上传")])]),a("view",{staticClass:"LG"},[a("text",[t._v("上传店铺营业执照")]),t.img6?a("image",{staticClass:"lg_img",attrs:{src:t.imgURl+t.img6,mode:"",eventid:"612c6f32-12"},on:{click:t.paizhao6}}):a("text",{staticClass:"lg_img",attrs:{eventid:"612c6f32-13"},on:{click:t.paizhao6}},[t._v("点击上传")])]),a("view",{staticClass:"code"},[a("text",[t._v("上传微信支付宝收款二维码")]),a("text",{staticStyle:{display:"block",color:"#999999","font-size":"20rpx","margin-top":"20rpx"}},[t._v("(请第一张上传微信,第二张上传支付宝)")]),a("view",{staticClass:"code_list"},[t.img4?a("image",{staticClass:"code_img",attrs:{src:t.imgURl+t.img4,mode:"",eventid:"612c6f32-14"},on:{click:t.paizhao4}}):a("text",{staticClass:"code_img",attrs:{eventid:"612c6f32-15"},on:{click:t.paizhao4}},[t._v("点击上传")]),t.img5?a("image",{staticClass:"code_img",attrs:{src:t.imgURl+t.img5,mode:"",eventid:"612c6f32-16"},on:{click:t.paizhao5}}):a("text",{staticClass:"code_img",attrs:{eventid:"612c6f32-17"},on:{click:t.paizhao5}},[t._v("点击上传")])])]),t.ishow?a("view",{staticClass:"btn",attrs:{eventid:"612c6f32-18"},on:{click:t.ruzhu}},[t._v("完成")]):a("view",{staticClass:"btn2"},[t._v("完成")])])},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})},"6b3f":function(t,e,a){"use strict";var o=a("ff2e"),i=a.n(o);i.a},"9a2d":function(t,e,a){"use strict";a.r(e);var o=a("0976"),i=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e["default"]=i.a},cbf8:function(t,e,a){"use strict";a("0cb7");var o=s(a("b0ce")),i=s(a("ea95"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(i.default))},ea95:function(t,e,a){"use strict";a.r(e);var o=a("586a"),i=a("9a2d");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("6b3f");var n=a("2877"),c=Object(n["a"])(i["default"],o["a"],o["b"],!1,null,"d4bd48f6",null);e["default"]=c.exports},ff2e:function(t,e,a){}},[["cbf8","common/runtime","common/vendor"]]]);